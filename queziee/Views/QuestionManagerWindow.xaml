<Window x:Class="queziee.Views.QuestionManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Vragen Beheren" Height="750" Width="1200"
        WindowStartupLocation="CenterOwner" Background="#0f172a">
    
    <Window.Resources>
        <!-- Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Opacity" Value="0.85"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- TextBox Style -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderBrush" Value="#cbd5e1"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Padding="25">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop Color="#1e40af" Offset="0"/>
                    <GradientStop Color="#3b82f6" Offset="0.5"/>
                    <GradientStop Color="#1e40af" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
                <DropShadowEffect Color="#3b82f6" BlurRadius="30" ShadowDepth="0" Opacity="0.7"/>
            </Border.Effect>
            <Grid>
                <TextBlock Text="ðŸ“ Vragen en Quizzen Beheren" 
                           FontSize="28" FontWeight="Bold" 
                           Foreground="White" HorizontalAlignment="Center">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="3"/>
                    </TextBlock.Effect>
                </TextBlock>
            </Grid>
        </Border>
        
        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="25">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="320"/>
                <ColumnDefinition Width="25"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Left Panel - Quiz List -->
            <Border Grid.Column="0" BorderBrush="#334155" BorderThickness="2" 
                    Background="#1e293b" CornerRadius="12">
                <Border.Effect>
                    <DropShadowEffect Color="#3b82f6" BlurRadius="20" ShadowDepth="0" Opacity="0.3"/>
                </Border.Effect>
                <StackPanel Margin="20">
                    <TextBlock Text="ðŸ“š Quizzen" FontSize="18" FontWeight="Bold" 
                               Foreground="White" Margin="0,0,0,15">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="#3b82f6" BlurRadius="5"/>
                        </TextBlock.Effect>
                    </TextBlock>
                    
                    <ListBox x:Name="QuizListBox" Height="220" 
                             DisplayMemberPath="Name"
                             Background="#334155" Foreground="White"
                             BorderBrush="#475569" BorderThickness="1"
                             Padding="5" FontSize="14"
                             SelectionChanged="QuizListBox_SelectionChanged"/>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,15,0,0">
                        <Button x:Name="NewQuizButton" Content="âž• Nieuwe Quiz" 
                                Background="#10b981" Foreground="White"
                                Padding="12,8" Margin="0,0,8,0" FontSize="13"
                                Style="{StaticResource ModernButton}"
                                Click="NewQuizButton_Click"/>
                        <Button x:Name="DeleteQuizButton" Content="ðŸ—‘ Verwijder" 
                                Background="#ef4444" Foreground="White"
                                Padding="12,8" FontSize="13"
                                Style="{StaticResource ModernButton}"
                                Click="DeleteQuizButton_Click"/>
                    </StackPanel>
                    
                    <Separator Background="#475569" Margin="0,20,0,15"/>
                    
                    <TextBlock Text="â“ Vragen in Quiz" FontSize="16" FontWeight="Bold" 
                               Foreground="White" Margin="0,0,0,15"/>
                    
                    <ScrollViewer Height="220" VerticalScrollBarVisibility="Auto" 
                                  PanningMode="VerticalOnly"
                                  Background="#334155">
                        <ItemsControl x:Name="QuestionsListBox"
                                     Background="Transparent"
                                     Margin="5">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="#475569" CornerRadius="6" Padding="10" Margin="0,0,0,6"
                                            Cursor="Hand"
                                            MouseLeftButtonUp="QuestionBorder_Click">
                                        <StackPanel>
                                            <TextBlock Foreground="#fbbf24" FontWeight="Bold" FontSize="11" Margin="0,0,0,4">
                                                <Run Text="â“ VRAAG "/>
                                                <Run Text="{Binding Id}"/>
                                            </TextBlock>
                                            <TextBlock Text="{Binding Text}" 
                                                       TextWrapping="Wrap" 
                                                       MaxWidth="250"
                                                       Foreground="White"
                                                       FontSize="12"
                                                       LineHeight="16"/>
                                            <TextBlock Foreground="#10b981" FontSize="10" FontWeight="SemiBold" Margin="0,6,0,0">
                                                <Run Text="âœ“ Antwoord: "/>
                                                <Run Text="{Binding CorrectAnswer}"/>
                                            </TextBlock>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,15,0,0">
                        <Button x:Name="NewQuestionButton" Content="âž• Nieuwe Vraag" 
                                Background="#3b82f6" Foreground="White"
                                Padding="12,8" Margin="0,0,8,0" FontSize="13"
                                Style="{StaticResource ModernButton}"
                                Click="NewQuestionButton_Click"/>
                        <Button x:Name="DeleteQuestionButton" Content="ðŸ—‘ï¸ Verwijder" 
                                Background="#ef4444" Foreground="White"
                                Padding="12,8" FontSize="13"
                                Style="{StaticResource ModernButton}"
                                Click="DeleteQuestionButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Right Panel - Question Editor -->
            <Border Grid.Column="2" BorderBrush="#334155" BorderThickness="2" 
                    Background="#1e293b" CornerRadius="12">
                <Border.Effect>
                    <DropShadowEffect Color="#3b82f6" BlurRadius="20" ShadowDepth="0" Opacity="0.3"/>
                </Border.Effect>
                <ScrollViewer VerticalScrollBarVisibility="Auto"
                              PanningMode="VerticalOnly">
                    <StackPanel Margin="25" x:Name="QuestionEditorPanel">
                        
                        <!-- Quiz Name Editor -->
                        <StackPanel x:Name="QuizEditorPanel" Visibility="Collapsed">
                            <TextBlock Text="âš™ï¸ Quiz Instellingen" FontSize="20" FontWeight="Bold" 
                                       Foreground="White" Margin="0,0,0,25"/>
                            
                            <TextBlock Text="Quiz Naam:" FontWeight="Bold" 
                                       Foreground="#e2e8f0" Margin="0,0,0,8" FontSize="14"/>
                            <TextBox x:Name="QuizNameTextBox" Style="{StaticResource ModernTextBox}"/>
                            
                            <TextBlock Text="Beschrijving:" FontWeight="Bold" 
                                       Foreground="#e2e8f0" Margin="0,20,0,8" FontSize="14"/>
                            <TextBox x:Name="QuizDescriptionTextBox" 
                                     Style="{StaticResource ModernTextBox}"
                                     TextWrapping="Wrap" AcceptsReturn="True" Height="80"/>
                            
                            <TextBlock Text="â±ï¸ Tijd per vraag (seconden):" FontWeight="Bold" 
                                       Foreground="#e2e8f0" Margin="0,20,0,8" FontSize="14"/>
                            <TextBox x:Name="TimePerQuestionTextBox" 
                                     Style="{StaticResource ModernTextBox}" Text="30"/>
                            
                            <Button x:Name="SaveQuizButton" Content="ðŸ’¾ Quiz Opslaan" 
                                    Background="#10b981" Foreground="White"
                                    Padding="20,12" Margin="0,25,0,0" FontSize="16" FontWeight="Bold"
                                    Style="{StaticResource ModernButton}"
                                    Click="SaveQuizButton_Click"/>
                        </StackPanel>
                        
                        <!-- Question Editor -->
                        <StackPanel x:Name="QuestionEditPanel" Visibility="Collapsed">
                            <Grid Margin="0,0,0,25">
                                <TextBlock Text="â“ Vraag Bewerken" FontSize="20" FontWeight="Bold" 
                                           Foreground="White" HorizontalAlignment="Left"/>
                                
                                <!-- Navigation Buttons for Questions -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Button x:Name="PreviousQuestionButton" Content="â¬… Vorige" 
                                            Background="#6b7280" Foreground="White"
                                            Padding="12,6" Margin="0,0,8,0" FontSize="13"
                                            Style="{StaticResource ModernButton}"
                                            Click="PreviousQuestionButton_Click"/>
                                    <Button x:Name="NextQuestionButton" Content="Volgende âž¡" 
                                            Background="#6b7280" Foreground="White"
                                            Padding="12,6" FontSize="13"
                                            Style="{StaticResource ModernButton}"
                                            Click="NextQuestionButton_Click"/>
                                </StackPanel>
                            </Grid>
                            
                            <TextBlock Text="Vraag Tekst:" FontWeight="Bold" 
                                       Foreground="#e2e8f0" Margin="0,0,0,8" FontSize="14"/>
                            <TextBox x:Name="QuestionTextBox" 
                                     Style="{StaticResource ModernTextBox}"
                                     TextWrapping="Wrap" AcceptsReturn="True" Height="100"/>
                            
                            <TextBlock Text="ðŸ–¼ï¸ Afbeelding (optioneel):" FontWeight="Bold" 
                                       Foreground="#e2e8f0" Margin="0,20,0,8" FontSize="14"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="ImagePathTextBox" Grid.Column="0"
                                         Style="{StaticResource ModernTextBox}"/>
                                <Button x:Name="BrowseImageButton" Grid.Column="1" Content="ðŸ“ Bladeren" 
                                        Background="#8b5cf6" Foreground="White"
                                        Padding="12,8" Margin="10,0,0,0" FontSize="13"
                                        Style="{StaticResource ModernButton}"
                                        Click="BrowseImageButton_Click"/>
                            </Grid>
                            
                            <TextBlock Text="Antwoorden:" FontWeight="Bold" 
                                       Foreground="#e2e8f0" Margin="0,25,0,15" FontSize="16"/>
                            
                            <Grid Margin="0,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="15"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Answer A -->
                                <Border Grid.Row="0" Grid.Column="0" Background="#dc2626" 
                                        CornerRadius="8" Padding="15">
                                    <StackPanel>
                                        <RadioButton x:Name="CorrectAnswerA" GroupName="CorrectAnswer" 
                                                     Content="A - Correct Antwoord" 
                                                     Foreground="White" FontWeight="Bold" FontSize="13"
                                                     Margin="0,0,0,8"/>
                                        <TextBox x:Name="AnswerATextBox" 
                                                 Style="{StaticResource ModernTextBox}"
                                                 TextWrapping="Wrap" Height="60"/>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Answer B -->
                                <Border Grid.Row="0" Grid.Column="2" Background="#2563eb" 
                                        CornerRadius="8" Padding="15">
                                    <StackPanel>
                                        <RadioButton x:Name="CorrectAnswerB" GroupName="CorrectAnswer" 
                                                     Content="B - Correct Antwoord" 
                                                     Foreground="White" FontWeight="Bold" FontSize="13"
                                                     Margin="0,0,0,8"/>
                                        <TextBox x:Name="AnswerBTextBox" 
                                                 Style="{StaticResource ModernTextBox}"
                                                 TextWrapping="Wrap" Height="60"/>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Answer C -->
                                <Border Grid.Row="2" Grid.Column="0" Background="#ca8a04" 
                                        CornerRadius="8" Padding="15">
                                    <StackPanel>
                                        <RadioButton x:Name="CorrectAnswerC" GroupName="CorrectAnswer" 
                                                     Content="C - Correct Antwoord" 
                                                     Foreground="White" FontWeight="Bold" FontSize="13"
                                                     Margin="0,0,0,8"/>
                                        <TextBox x:Name="AnswerCTextBox" 
                                                 Style="{StaticResource ModernTextBox}"
                                                 TextWrapping="Wrap" Height="60"/>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Answer D -->
                                <Border Grid.Row="2" Grid.Column="2" Background="#16a34a" 
                                        CornerRadius="8" Padding="15">
                                    <StackPanel>
                                        <RadioButton x:Name="CorrectAnswerD" GroupName="CorrectAnswer" 
                                                     Content="D - Correct Antwoord" 
                                                     Foreground="White" FontWeight="Bold" FontSize="13"
                                                     Margin="0,0,0,8"/>
                                        <TextBox x:Name="AnswerDTextBox" 
                                                 Style="{StaticResource ModernTextBox}"
                                                 TextWrapping="Wrap" Height="60"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                            
                            <Button x:Name="SaveQuestionButton" Content="ðŸ’¾ Vraag Opslaan" 
                                    Background="#3b82f6" Foreground="White"
                                    Padding="20,12" Margin="0,30,0,0" FontSize="16" FontWeight="Bold"
                                    Style="{StaticResource ModernButton}"
                                    Click="SaveQuestionButton_Click"/>
                        </StackPanel>
                        
                        <!-- Default Message -->
                        <TextBlock x:Name="DefaultMessageText" 
                                   Text="ðŸ‘ˆ Selecteer een quiz of vraag om te bewerken"
                                   FontSize="18" Foreground="#64748b" FontWeight="SemiBold"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"
                                   Margin="0,100,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>